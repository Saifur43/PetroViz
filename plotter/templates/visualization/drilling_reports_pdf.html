<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Daily Drilling Report</title>
    <style>
        @page {
            size: a4 portrait;
            margin: 1.2cm 1.5cm;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'Helvetica', sans-serif;
            font-size: 10pt;
            line-height: 1.3;
            color: #000;
        }
        
        .header-container {
            display: table;
            width: 100%;
            margin-bottom: 15px;
        }
        
        .header-row {
            display: table-row;
        }
        
        .logo-cell {
            display: table-cell;
            width: 20%;
            vertical-align: middle;
            padding-right: 15px;
        }
        
        .logo-img {
            width: 150px;
            height: 70px;
            object-fit: contain;
            object-position: center;
        }
        
        .title-cell {
            display: table-cell;
            width: 60%;
            text-align: center;
            vertical-align: middle;
        }
        
        .unit-cell {
            display: table-cell;
            width: 20%;
            vertical-align: top;
            text-align: center;
        }
        
        .main-title {
            font-size: 13pt;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 3px;
        }
        
        .well-name {
            font-size: 12pt;
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .company-name {
            font-size: 10pt;
            font-weight: bold;
        }
        
        .unit-box {
            border: 1px solid #000;
            padding: 3px;
            font-size: 8pt;
            margin-bottom: 2px;
        }
        
        .info-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 12px;
            font-size: 9pt;
        }
        
        .info-table td {
            border: 1px solid #000;
            padding: 4px 6px;
        }
        
        .info-label {
            font-weight: bold;
            background-color: #f0f0f0;
            width: 20%;
        }
        
        .info-value {
            width: 30%;
        }
        
        .section-header {
            background-color: #f0f0f0;
            border: 2px solid #000;
            padding: 5px 8px;
            font-weight: bold;
            font-size: 10pt;
            text-transform: uppercase;
            margin-top: 12px;
            margin-bottom: 8px;
        }
        
        .status-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 12px;
            font-size: 9pt;
        }
        
        .status-table td {
            border: 1px solid #000;
            padding: 5px 6px;
        }
        
        .status-label-cell {
            font-weight: bold;
            background-color: #f5f5f5;
            width: 22%;
        }
        
        .status-value-cell {
            width: 28%;
        }
        
        .depth-highlight {
            background-color: #fff3cd;
            font-weight: bold;
        }
        
        .lithology-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 12px;
            font-size: 9pt;
        }
        
        .lithology-table th {
            background-color: #f0f0f0;
            border: 1px solid #000;
            padding: 5px 4px;
            text-align: center;
            font-weight: bold;
        }
        
        .lithology-table td {
            border: 1px solid #000;
            padding: 5px 4px;
            vertical-align: top;
        }
        
        .depth-cell {
            text-align: center;
            font-weight: bold;
            width: 12%;
        }
        
        .lithology-type {
            font-weight: bold;
            text-align: center;
            width: 10%;
        }
        
        .percentage-cell {
            text-align: center;
            font-weight: bold;
            width: 8%;
        }
        
        .description-cell {
            font-size: 8.5pt;
            line-height: 1.4;
        }
        
        .composition-row {
            padding: 3px 0;
        }
        
        .comp-bar-container {
            display: flex;
            height: 20px;
            border: 1px solid #000;
            margin: 3px 0;
        }
        
        .comp-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8pt;
            font-weight: bold;
        }
        
        .comp-shale {
            background-color: #808080;
            color: white;
        }
        
        .comp-sand {
            background-color: #FFD700;
            color: #000;
        }
        
        .comp-clay {
            background-color: #A0522D;
            color: white;
        }
        
        .comp-silt {
            background-color: #D2B48C;
            color: #000;
        }
        
        .remarks-section {
            border: 1px solid #000;
            padding: 8px;
            margin-top: 10px;
            font-size: 9pt;
        }
        
        .remarks-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .remarks-list {
            margin-left: 15px;
        }
        
        .remarks-list li {
            margin-bottom: 3px;
        }
        
        .footer {
            position: fixed;
            bottom: 1cm;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 8pt;
            color: #666;
        }
        
        .page-break {
            page-break-after: always;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header-container">
        <div class="header-row">
            <div class="logo-cell">
                <img src="https://bapex.com.bd/sites/default/files/files/bapex.portal.gov.bd/page/c81bcc78_edc9_49ca_97e6_a5db526a4075/165905Bapex.jpg" 
                     alt="BAPEX Logo" 
                     class="logo-img">
            </div>
            <div class="title-cell">
                <div class="main-title">Daily Drilling Report</div>
                <div class="well-name">{{ well_name }}</div>
                <div class="company-name">BAPEX Mudlogging Unit</div>
            </div>
            <div class="unit-cell">
                <div class="unit-box">DIC</div>
                <div class="unit-box">MUD</div>
                <div class="unit-box">UNIT</div>
            </div>
        </div>
    </div>
    
    <!-- Report Information Table -->
    <table class="info-table">
        <tr>
            <td class="info-label">Report No.</td>
            <td class="info-value">-</td>
            <td class="info-label">Report Date:</td>
            <td class="info-value">{{ report.date }}</td>
        </tr>
        <tr>
            <td class="info-label">Well Type:</td>
            <td class="info-value">APPRAISAL CUM<br>DEVELOPMENT</td>
            <td class="info-label">Rig:</td>
            <td class="info-value">-</td>
        </tr>
    </table>
    
    <!-- Status Section -->
    <div class="section-header">STATUS at 07.00 hrs {{ report.date }}</div>
    
    <table class="status-table">
        <tr>
            <td class="status-label-cell">MIDNIGHT DEPTH:</td>
            <td class="status-value-cell depth-highlight">{{ report.depth_end|floatformat:2 }} M</td>
            <td class="status-label-cell" style="width: 10%;">MD</td>
            <td class="status-value-cell" style="width: 10%;">TVD</td>
            <td class="status-label-cell" style="width: 10%;">CSG:</td>
            <td class="status-value-cell" style="width: 20%;">-</td>
        </tr>
        <tr>
            <td class="status-label-cell">Present Depth (m):</td>
            <td class="status-value-cell depth-highlight">{{ report.depth_end|floatformat:2 }}</td>
            <td class="status-label-cell" colspan="2">Last CSG:</td>
            <td class="status-value-cell" colspan="2">-</td>
        </tr>
        <tr>
            <td class="status-label-cell">Previous Depth (m):</td>
            <td class="status-value-cell">{{ report.depth_start|floatformat:2 }}</td>
            <td class="status-label-cell" colspan="2">Present Activity:</td>
            <td class="status-value-cell" colspan="2">None</td>
        </tr>
    </table>

    <!-- Progress Section -->
    <div class="section-header">DRILLING PROGRESS</div>
    <div style="margin: 10px 0; padding: 15px; background-color: #fff3cd; border: 2px solid #ffeeba; text-align: center;">
        <span style="font-size: 14pt; font-weight: bold; color: #1a5943;">
            Daily Progress: {{ report.daily_progress|floatformat:2 }} meters
        </span>
    </div>
    <!-- Progress Section -->
    <div class="section-header">Present Activity</div>
    <div style="margin: 10px 0; padding: 15px; background-color: #fff3cd; border: 2px solid #ffeeba; text-align: center;">
        <span style="font-size: 14pt; font-weight: bold; color: #1a5943;">
            Present Activity: {{ report.current_operation|default:"Not specified"|safe }}
        </span>
    </div>
    
{% if report.lithologies %}
<div class="section-header">LITHOLOGY</div>

<table class="lithology-table">
    <thead>
        <tr>
            <th>Depth (m)</th>
            <th>Sand (%)</th>
            <th>Silt (%)</th>
            <th>Clay (%)</th>
            <th>Shale (%)</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        {% for lithology in report.lithologies %}
        <tr>
            <td class="depth-cell">{{ lithology.depth_range }}</td>
            <td class="percentage-cell">{% if lithology.sand %}{{ lithology.sand|floatformat:0 }}{% else %}-{% endif %}</td>
            <td class="percentage-cell">{% if lithology.silt %}{{ lithology.silt|floatformat:0 }}{% else %}-{% endif %}</td>
            <td class="percentage-cell">{% if lithology.clay %}{{ lithology.clay|floatformat:0 }}{% else %}-{% endif %}</td>
            <td class="percentage-cell">{% if lithology.shale %}{{ lithology.shale|floatformat:0 }}{% else %}-{% endif %}</td>
            <td class="description-cell">
                {% if lithology.sand %}
                <strong>Sand:</strong> {{ lithology.description_sand|default:"Colorless to white, loose, transparent to translucent, sub-angular to sub-rounded, medium to fine grained, poorly sorted, predominantly quartz."|safe }}<br>
                {% endif %}
                {% if lithology.silt %}
                <strong>Silt:</strong> {{ lithology.description_silt|default:"Milky white to white with dark spots, highly reacts with HCL."|safe }}<br>
                {% endif %}
                {% if lithology.clay %}
                <strong>Clay:</strong> {{ lithology.description_clay|default:"Dark gray to gray, very soft, reacts with HCL in dry state."|safe }}<br>
                {% endif %}
                {% if lithology.shale %}
                <strong>Shale:</strong> {{ lithology.description_shale|default:"Gray to dark gray, moderately hard."|safe }}
                {% endif %}
            </td>
        </tr>

        <!-- Composition Bar -->
        <tr>
            <td colspan="6" style="padding: 3px;">
                <div class="comp-bar-container">
                    {% if lithology.sand %}
                    <div class="comp-segment comp-sand" style="width: {{ lithology.sand }}%;">
                        {% if lithology.sand > 10 %}Sand {{ lithology.sand|floatformat:0 }}%{% endif %}
                    </div>
                    {% endif %}
                    {% if lithology.silt %}
                    <div class="comp-segment comp-silt" style="width: {{ lithology.silt }}%;">
                        {% if lithology.silt > 10 %}Silt {{ lithology.silt|floatformat:0 }}%{% endif %}
                    </div>
                    {% endif %}
                    {% if lithology.clay %}
                    <div class="comp-segment comp-clay" style="width: {{ lithology.clay }}%;">
                        {% if lithology.clay > 10 %}Clay {{ lithology.clay|floatformat:0 }}%{% endif %}
                    </div>
                    {% endif %}
                    {% if lithology.shale %}
                    <div class="comp-segment comp-shale" style="width: {{ lithology.shale }}%;">
                        {% if lithology.shale > 10 %}Shale {{ lithology.shale|floatformat:0 }}%{% endif %}
                    </div>
                    {% endif %}
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}

    
    <!-- Formation Gas Peaks (Empty Section) -->
    <div class="section-header">FORMATION GAS PEAKS</div>
    <table class="info-table">
        <tr>
            <td class="info-label" style="width: 12%;">Depth (m)</td>
            <td class="info-label" style="width: 11%;">Max (%)</td>
            <td class="info-label" style="width: 11%;">BG (%)</td>
            <td class="info-label" style="width: 11%;">Above BG (%)</td>
            <td class="info-label" style="width: 11%;">C1 (%)</td>
            <td class="info-label" style="width: 11%;">C2 (%)</td>
            <td class="info-label" style="width: 11%;">C3 (%)</td>
            <td class="info-label" style="width: 11%;">iC4 (%)</td>
            <td class="info-label" style="width: 11%;">NC5 (%)</td>
        </tr>
        <tr>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
            <td style="text-align: center;">-</td>
        </tr>
    </table>
    
    <!-- Remarks Section -->
    {% if report.comments %}
    <div class="section-header">Remarks:</div>
    <div class="remarks-section">
        {{ report.comments|safe|linebreaks }}
    </div>
    {% endif %}
    
    <!-- Gas Show Info -->
    {% if report.gas_show and report.gas_show != "None" %}
    <div style="margin-top: 10px; padding: 8px; background-color: #fff3cd; border: 2px solid #ffc107;">
        <strong>Gas Show:</strong> {{ report.gas_show }}
    </div>
    {% endif %}
    
    <!-- Footer -->
    <div style="margin-top: 20px; text-align: center; font-size: 8pt; color: #666;">
        <p>Report Generated: {{ generation_date }}</p>
    </div>
</body>
</html>